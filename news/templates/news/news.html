{% extends 'news/base.html' %}

{% block content %}

{% if not categories%}
<div class="card mt-5">
  <div class="card-body">
    <h2 class="text-center san  blink">You need to go into your account settings and add some categories in orther to see news articles!</h1>
  </div>
</div>
{%else%}
  {% for category in categories%}
  <div class="card" style="margin-top: 100px !important;">
    <div class="card-body">
      <h3 class="text-center san">{{ category }}</h3>
      <div class="row mt-5 ">
        {% for news in category.get_news %}
        <div name="article" class=" d-flex p-2  panel-shadow mb-5">
          <div class="col-sm-12">

            <div class="panel panel-white post panel-shadow">

              <div class="post-heading">
                <div class="pull-left image">
                  <img style="height: 200px; width: 200px !important" src={{news.image.url}} alt="Card image cap"
                    class="img-circle avatar" alt="user profile image">
                </div>
                <div class="pull-left meta">
                  <div class="title h5">
                    <h5 class="card-text title">{{ news.title}}</h5>
                  </div>
                </div>
              </div>

              <div class="post-description">
                <p class="card-text">{{news.content | slice:"600" }} ...</p>
                <div class="stats">
                  <div class="row">
                    <div class="col-sm--1 ml-3"><img height="18"
                        src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 16 16'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='0%25' y2='100%25'%3e%3cstop offset='0%25' stop-color='%2318AFFF'/%3e%3cstop offset='100%25' stop-color='%230062DF'/%3e%3c/linearGradient%3e%3cfilter id='c' width='118.8%25' height='118.8%25' x='-9.4%25' y='-9.4%25' filterUnits='objectBoundingBox'%3e%3cfeGaussianBlur in='SourceAlpha' result='shadowBlurInner1' stdDeviation='1'/%3e%3cfeOffset dy='-1' in='shadowBlurInner1' result='shadowOffsetInner1'/%3e%3cfeComposite in='shadowOffsetInner1' in2='SourceAlpha' k2='-1' k3='1' operator='arithmetic' result='shadowInnerInner1'/%3e%3cfeColorMatrix in='shadowInnerInner1' values='0 0 0 0 0 0 0 0 0 0.299356041 0 0 0 0 0.681187726 0 0 0 0.3495684 0'/%3e%3c/filter%3e%3cpath id='b' d='M8 0a8 8 0 00-8 8 8 8 0 1016 0 8 8 0 00-8-8z'/%3e%3c/defs%3e%3cg fill='none'%3e%3cuse fill='url(%23a)' xlink:href='%23b'/%3e%3cuse fill='black' filter='url(%23c)' xlink:href='%23b'/%3e%3cpath fill='white' d='M12.162 7.338c.176.123.338.245.338.674 0 .43-.229.604-.474.725a.73.73 0 01.089.546c-.077.344-.392.611-.672.69.121.194.159.385.015.62-.185.295-.346.407-1.058.407H7.5c-.988 0-1.5-.546-1.5-1V7.665c0-1.23 1.467-2.275 1.467-3.13L7.361 3.47c-.005-.065.008-.224.058-.27.08-.079.301-.2.635-.2.218 0 .363.041.534.123.581.277.732.978.732 1.542 0 .271-.414 1.083-.47 1.364 0 0 .867-.192 1.879-.199 1.061-.006 1.749.19 1.749.842 0 .261-.219.523-.316.666zM3.6 7h.8a.6.6 0 01.6.6v3.8a.6.6 0 01-.6.6h-.8a.6.6 0 01-.6-.6V7.6a.6.6 0 01.6-.6z'/%3e%3c/g%3e%3c/svg%3e">
                    </div>
                    <div id="{{news.id}}" class="col-sm-1 pl-2 likes">{{news.likes}}</div>
                  </div>
                  <hr>
                  <!-- This button text could be changed when user Likes/Unlikes an article -->
                  <div class="text-center">
                    <button type="button" id="like-button" class="btn btn-outline-dark stat-item"
                      data-id={{ news.id }}>Like</button>
                  </div>
                </div>
              </div>

              <div class="post-footer">
                <div class="input-group">
                  <input class="form-control" placeholder="Add a comment" type="text">
                  <span class="input-group-addon">
                    <button class="btn-outline-dark post-but" style="border-radius-right: 20px;"><i
                        class="fa fa-edit"></i></button>
                  </span>
                </div>
                <ul class="comments-list">
                  <li class="comment">
                    <a class="pull-left" href="#">
                      <img class="avatar" src="https://bootdey.com/img/Content/user_1.jpg" alt="avatar">
                    </a>
                    <div class="comment-body">
                      <div class="comment-heading">
                        <h4 class="user">Gavino Free</h4>
                        <h5 class="time">5 minutes ago</h5>
                      </div>
                      <p>Sure, oooooooooooo oooohhhhhhhhhhhhhhhh</p>
                    </div>
                    <ul class="comments-list">
                      <li class="comment">
                        <a class="pull-left" href="#">
                          <img class="avatar" src="https://bootdey.com/img/Content/user_3.jpg" alt="avatar">
                        </a>
                        <div class="comment-body">
                          <div class="comment-heading">
                            <h4 class="user">Ryan Haywood</h4>
                            <h5 class="time">3 minutes ago</h5>
                          </div>
                          <p>Relax my friend</p>
                        </div>
                      </li>
                      <li class="comment">
                        <a class="pull-left" href="#">
                          <img class="avatar" src="https://bootdey.com/img/Content/user_2.jpg" alt="avatar">
                        </a>
                        <div class="comment-body">
                          <div class="comment-heading">
                            <h4 class="user">Gavino Free</h4>
                            <h5 class="time">3 minutes ago</h5>
                          </div>
                          <p>Ok, cool.</p>
                        </div>
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
  {% endfor %}
{% endif %}




<!-- <div class="row mt-5"></div>
{% for category in categories%}
<div class="jumbotron pt-2">
<h3 class="text-center">{{ category }}</h3><hr>
  <div class="row mt-5">
    {% for news in category.get_news %}
    <div name="article" data-id={{ news.id }}>
      <div class="col-md-4 max">
        <div class="card mb-4 box-shadow">
          <img class="card-img-top" height="200" width="200" src={{news.image.url}} alt="Card image cap">
          <div class="card-body" style="height: 290px;">
            <h5 class="card-text">{{ news.title}}</h5>
            <p class="card-text">{{news.content  | slice:":150"}} ...</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <button type="button" class="btn btn-sm btn-outline-secondary" id="like-button">Like</button>
                <button type="button" class="btn btn-sm btn-outline-secondary">View Full Article</button>
              </div>
              <small class="text-muted">{{news.date}}</small>
            </div>
            <p class="text-info mt-2" id="like-text">
              {% if news.likes == 0 %}
                No Likes.
              {% elif news.likes == 1 %}
                {{news.likes}} person has liked this.
              {% else %}
                {{news.likes}} people have liked this.
              {% endif %}
            </p>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endfor %}  -->
{% endblock %}